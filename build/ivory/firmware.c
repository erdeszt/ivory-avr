/* This file has been autogenerated by Ivory
 * Compiler version  0.1.0.8
 */
#include "firmware.h"

void delay_init(void)
{
    /* reg set 0x81: setBit cs10 */
    ivory_hw_io_write_u8((uint32_t) 129U, (uint8_t) ((uint8_t) ((uint8_t) 0U & (uint8_t) 255U) | (uint8_t) ((uint8_t) 1U << (uint8_t) 0U)));
    return;
}

void delay(int32_t n_var0)
{
    int32_t n_cse0 = (int32_t) (n_var0 - (int32_t) 1);
    
    COMPILER_ASSERTS((bool) ((bool) (n_cse0 < (int32_t) 10000) && (bool) ((int32_t) 0 <= n_cse0)));
    COMPILER_ASSERTS((bool) ((bool) ((int32_t) 0 < (int32_t) 10000) && true));
    for (int32_t n_ix0 = n_cse0; n_ix0 >= (int32_t) 0; n_ix0--) {
        ivory_hw_io_write_u16((uint32_t) 132U, (uint16_t) 0U);
        
        int32_t n_cse7 = (int32_t) ((int32_t) 10000 % 100000 - (int32_t) 1);
        
        COMPILER_ASSERTS((bool) ((bool) (n_cse7 < (int32_t) 100000) && (bool) ((int32_t) 0 <= n_cse7)));
        COMPILER_ASSERTS((bool) ((bool) ((int32_t) 0 < (int32_t) 100000) && true));
        for (int32_t n_ix1 = n_cse7; n_ix1 >= (int32_t) 0; n_ix1--) {
            uint16_t n_r2 = ivory_hw_io_read_u16((uint32_t) 132U);
            
            if ((bool) (n_r2 >= (uint16_t) 16000U)) {
                break;
            }
        }
    }
    return;
}

void main(void)
{
    delay_init();
    /* reg set 0x24: setBit ddrb1 */
    ;
    
    uint8_t n_cse0 = (uint8_t) ((uint8_t) 0U & (uint8_t) 255U);
    uint8_t n_cse1 = (uint8_t) ((uint8_t) 1U << (uint8_t) 1U);
    uint8_t n_cse2 = (uint8_t) (n_cse0 | n_cse1);
    
    ivory_hw_io_write_u8((uint32_t) 36U, n_cse2);
    {
        int forever_loop __attribute__((unused));
        
        for (forever_loop = 0; IFOREVER; IFOREVER_INC) {
            /* reg set 0x25: setBit portb1 */
            ;
            ivory_hw_io_write_u8((uint32_t) 37U, n_cse2);
            
            int32_t n_cse3 = (int32_t) 1000 % 10000;
            
            delay(n_cse3);
            /* reg set 0x25: clearBit portb1 */
            ;
            ivory_hw_io_write_u8((uint32_t) 37U, (uint8_t) (n_cse0 & (uint8_t) ~n_cse1));
            delay(n_cse3);
        }
    }
    return;
}
